<ion-view view-title="Recipe Detail" id="recipeDetail" hide-nav-bar="true"  style="background-color:#323232;">
    <ing-added-detail-modal></ing-added-detail-modal>
    <button class="button button-dark button-clear icon ion-android-arrow-back back-btn-position" ui-sref="tabsMaster" ng-hide="pageScrolled"></button>
    <img ng-src="{{recipeID.fullscreen}}" class="fullscreen" />
    <ion-content scroll="true" on-scroll="scrolled()">
        <div class="detail-page-content padding" ng-class="{'detail-open': detailTabOpen}" button-flash>
            <h3 style="font-size:28px;font-weight:300;">{{recipeID.title}}</h3>

            <div class="button-flex-group">
                <button class="button button-round icon ion-clipboard" ng-class="{'button-balanced': isSet(1)}" ng-click="setTab(1)"></button>
                <button class="button button-round icon ion-pizza" ng-class="{'button-balanced': isSet(2)}" ng-click="setTab(2)"></button>
                <button class="button button-round icon ion-erlenmeyer-flask" ng-class="{'button-balanced': isSet(3)}" ng-click="setTab(3)"></button>
                <button class="button button-round icon ion-umbrella" ng-class="{'button-balanced': isSet(4)}" ng-click="setTab(4)"></button>
            </div>

            <div style="margin-top:10px;" ng-show="detailTabOpen">
                <div class="pointer" ng-class="{'vanish':!showDetailTab, 'tab-two':isSet(2), 'tab-three':isSet(3), 'tab-four':isSet(4)}"></div>
                <hr />
            </div>
            
            <div class="card detail-tab" ng-show="isSet(1)">
                <div class="item item-text-wrap">
                    <h4>Overview</h4>
                    {{recipeID.overview[0]}}
                </div>
            </div>
            <div class="card detail-tab" ng-show="isSet(2)">
                <div class="item item-text-wrap">
                    <h4>Ingredients</h4>
                    <!--<button class="button button-positive button-full icon button-transition" ng-click="addAllToList(); reset()" ng-class="{'green':trigger, 'ion-android-checkmark-circle':trigger, 'ion-android-cart':!trigger}">  Add to Shopping List</button>-->
                    <a class="waves-effect btn button-transition bg-blue" style="margin-top:10px;margin-bottom:10px;height:45px;width:100%;color:white;text-transform:initial;" ng-class="{green:trigger}" ng-click="addAllToList(); reset()"><i class="material-icons" style="color:white;margin-top:5px;" ng-show="!trigger">add_shopping_cart</i><i class="material-icons" style="color:white;margin-top:5px;" ng-show="trigger">check_circle</i> <span ng-show="!trigger" style="position:relative;top:-3px;">Add to Shopping List</span><span ng-show="trigger" style="position:relative;top:-3px;">Added to Shopping List</span></a>

                    <ion-list>
                        <ion-item ng-repeat="ingredient in recipeID.ingredients" ingredient-display button-flash>
                            <div ng-show="measureDisplay">
                                <strong>{{ingredient.name}}</strong>
                                <br />
                                <small><span ng-bind-html="ingredient.quantity | DecimalToFraction"></span> {{ingredient.measure}}<span ng-show="prepDisplay">, {{ingredient.prep}}</span></small>
                                <a class="waves-effect btn-flat add-btn button-transition right" ng-class="{green:trigger}" ng-click="addToList(ingredient); reset()" style="margin-top:-22px;"><i class="material-icons add-btn-icon" ng-show="!trigger">add_shopping_cart</i><i class="material-icons add-btn-icon" style="color:white;" ng-show="trigger">check_circle</i></a>
                            </div>
                            <div ng-hide="measureDisplay" ng-class="{'text-middle':!prepDisplay}">
                                <strong><span ng-bind-html="ingredient.quantity | DecimalToFraction"></span> {{ingredient.name}}</strong>
                                <br />
                                <small ng-show="prepDisplay">{{ingredient.prep}}</small>
                                <a class="waves-effect btn-flat add-btn button-transition right" ng-class="{green:trigger}" ng-click="addToList(ingredient); reset()" style="margin-top:-30px;"><i class="material-icons add-btn-icon" ng-show="!trigger">add_shopping_cart</i><i class="material-icons add-btn-icon" style="color:white;" ng-show="trigger">check_circle</i></a>
                            </div>
                        </ion-item>
                    </ion-list>
                </div>
            </div>
            <div class="card detail-tab" ng-show="isSet(3)">
                <div class="item item-text-wrap">
                    <h4>Equipment</h4>
                    <ion-list>
                        <ion-item ng-repeat="item in recipeID.equipment">
                            {{item}}
                        </ion-item>
                    </ion-list>
                </div>
            </div>
            <div class="card detail-tab" ng-show="isSet(4)">
                <div class="item item-text-wrap">
                    <h4>Chef Tips</h4>
                    <ion-list>
                        <ion-item ng-repeat="tip in recipeID.cheftips">
                            {{tip}}
                        </ion-item>
                    </ion-list>
                </div>
            </div>
            <hr class="detail-line" ng-class="{'push-line-down':detailTabOpen, 'remove-margin':showDetailTab}" />
        </div>
        
    </ion-content>
    <ion-footer-bar align-title="left" class="bar-large bar-balanced">
        <div class="button-bar">
            <a ui-sref="recipeSteps" class="btn btn-large waves-effect waves-light bg-green" style="width:100%;box-shadow:none;text-transform:initial;">Cook This Recipe</a>
        </div>
    </ion-footer-bar>
</ion-view>
